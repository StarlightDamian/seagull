# 金融领域内的滚动训练框架学名是叫做什么英语，怎么样划分测试集、训练集和验证集，保证没有使用到未来数据进行训练。



在金融领域中，**滚动训练框架** 通常被称为 **"Rolling Window"** 或 **"Rolling Forecast"** 方法。这种方法在时间序列分析中非常常见，尤其是在金融预测模型中。其核心思想是利用一定长度的历史数据进行训练，并随着时间的推移，逐步滚动窗口，更新训练集。

### 1. **滚动训练框架的英文名称**

-   Rolling Window

     或 

    Rolling Forecast

    ：这两者在时间序列分析和金融建模中都很常用。

    -   **Rolling Window**: 指的是每次训练使用的时间窗口大小固定，并且每次向前滚动，保持训练集大小不变。
    -   **Rolling Forecast**: 也可以描述为滚动预测，指的是逐步用新的数据进行训练和预测，每次将最新的预测加到模型中。

### 2. **如何划分训练集、验证集和测试集**

在时间序列问题中，特别是在金融领域，**避免使用未来数据进行训练** 是非常重要的。为了确保模型的训练是基于当前可用的历史数据，并且不涉及未来信息，通常会使用以下方式进行数据划分：

#### **常见的划分方法**

-   **训练集 (Training Set)**: 用于模型训练的数据集。通常是从开始日期到某个特定日期的历史数据。
-   **验证集 (Validation Set)**: 用于调整模型超参数的数据集。验证集用于模型训练过程中的超参数调整。
-   **测试集 (Test Set)**: 用于评估模型性能的数据集。测试集通常是模型完全训练完毕后，用来进行最终评估的。

#### **如何保证没有未来数据泄露：**

1.  **固定时间窗口**：

    -   在滚动窗口方法中，你使用固定大小的历史数据来训练模型。例如，你可能会使用过去1年（例如，252个交易日）的数据来进行训练，然后将其滑动到下一个时间点，使用下一个年份的数据。

2.  **逐步滑动窗口（Rolling Window）**：

    -   **训练集**：每次训练使用固定长度的历史数据（例如，过去6个月的数据）。
    -   **验证集**：通常为训练集之后的接下来一段时间的数据，例如，接下来的1个月，或者是一个季度的数据。
    -   **测试集**：可以是紧接在验证集之后的一段时间，保证模型在验证时没有提前使用未来数据。

    例如：

    -   时间区间为：2018年1月到2020年12月。
    -   假设你使用过去1年的数据进行训练，每次向前滚动3个月：
        -   第一次训练集：2018年1月到2018年12月，验证集：2019年1月到2019年3月，测试集：2019年4月到2019年6月。
        -   第二次训练集：2018年4月到2019年3月，验证集：2019年4月到2019年6月，测试集：2019年7月到2019年9月。
        -   依此类推，直到结束。

3.  **时间序列交叉验证 (TimeSeriesSplit)**：

    -   使用 **TimeSeriesSplit** 交叉验证方法来划分训练集和验证集。这个方法特别适用于时间序列数据，它会将数据分为多个训练集和验证集对，确保每次训练都只使用当前时间点及之前的数据进行训练。
    -   **sklearn.model_selection.TimeSeriesSplit** 提供了一个内置的工具来进行这种划分，避免了传统交叉验证方法中的数据泄露问题。

4.  **注意验证集与测试集的独立性**：

    -   **验证集** 用于调整模型超参数和选择最优模型配置。它是模型训练过程中的一部分，目的是帮助选择最佳的模型。
    -   **测试集** 用于最终评估模型的性能。它应该与训练和验证过程完全独立，且不得用于训练过程中的任何调整。

### 3. **保证不使用未来数据的关键点：**

-   **严格时间顺序**：保证训练数据只包含历史数据（过去的信息），验证和测试数据不包含任何未来的数据。即使数据间隔非常小，也必须保证模型训练时不会看到未来的信息。
-   **确保验证集和测试集在训练之前**：验证集和测试集的时间范围必须在训练集之外，不能重叠。
-   **时间递增的方式滚动**：每次滑动时，只使用过去的数据进行训练，确保模型无法“看到”未来的任何数据。

### 4. **总结**

-   **滚动窗口 (Rolling Window)** 或 **滚动预测 (Rolling Forecast)** 是金融领域常用的训练方法，确保每次训练只使用历史数据，并逐步滚动更新。
-   在训练和验证过程中要确保时间的顺序，避免未来数据泄露。
-   **TimeSeriesSplit** 可以帮助进行时间序列的交叉验证，确保划分方式合理且符合时间顺序。

这种方法尤其适用于需要用历史数据进行预测的金融问题，如股票价格预测、量化策略回测等。